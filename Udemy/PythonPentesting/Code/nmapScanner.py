import nmap
import sys
import socket

if len(sys.argv) != 2:
    print("Usage:",sys.argv[0],"<url>")
    exit(1)

ports = [21,22,80,139,443,8080]
target = socket.gethostbyname(sys.argv[1])


scan_vector = nmap.PortScanner()

print("\nScanning",target,"for ports",ports)

for port in ports:
    portscan = scan_vector.scan(target,str(port))
    print("Port",port,"is",portscan['scan'][target]['tcp'][port]['state'])

print("\nHost",target,"is",portscan['scan'][target]['status']['state'])
